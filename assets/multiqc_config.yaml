report_comment: >
    This report has been generated by the <a href="https://github.com/nf-core/cutandrun" target="_blank">nf-core/cutandrun</a>
    analysis pipeline. For information about how to interpret these results, please see the
    <a href="https://github.com/nf-core/cutandrun" target="_blank">documentation</a>.

report_header_info:
  - Contact E-mail: "chris.cheshire@crick.ac.uk"
  - Application Type: "CUT&TAG"
  - Project Type: "Application"
  - Sequencing Platform: "HiSeq 2500 High Output V4"
  - Sequencing Setup: "2x50"

show_analysis_paths: True
show_analysis_time: True

show_hide_buttons:
  - Read Group 1
  - Read Group 2
  - Controls
  - Conditions
show_hide_mode:
  - show
  - show
  - show
  - show
show_hide_patterns:
  - _r1
  - _r2
  - igg_
  - ["h3k4me3_", "h3k27me3_"]

export_plots: true

# Run only these modules
run_modules:
    - custom_content
    - fastqc
    - cutadapt
    - bowtie2
    - samtools
    - picard

module_order:
    - custom_content
    - fastqc:
        name: 'FastQC (raw)'
        info: 'This section of the report shows FastQC results before adapter trimming.'
        path_filters:
            - './fastqc/*.zip'
    - cutadapt
    - fastqc:
        name: 'FastQC (trimmed)'
        info: 'This section of the report shows FastQC results after adapter trimming.'
        path_filters:
            - './trimgalore/fastqc/*.zip'
    - bowtie2:
        name: 'Bowtie2 (target)'
        path_filters:
            - "./bowtie2/*target.bowtie2.log"
    - bowtie2:
        name: 'Bowtie2 (spike-in)'
        path_filters:
            - "./bowtie2/*spikein.bowtie2.log"
    - samtools
    - picard

report_section_order:
    software_versions:
        order: -1000
    nf-core-cutandrun-summary:
        order: -1001

# Don't show % Dups in the General Stats table (we have this from Picard)
table_columns_visible:
    FastQC:
        percent_duplicates: False

section_comments:
    fastqc_raw_fastqc_per_base_sequence_content: >
        The discordant sequence content at the begining of the reads are common phenomenon for CUT&TAG reads. Failing to pass the Per base seuqnence content does not mean your data failed.
        - It can be due to the Tn5 preference.
        - What you might be detecting is the 10-bp periodicity that shows up as a sawtooth pattern in the length distribution. If so, this is normal and will not affect alignment or peak calling. In any case we do not recommend trimming as the bowtie2 parameters that we list will give accurate mapping information without trimming.

fastqc_config:
    fastqc_theoretical_gc: "hg38_genome"

# Customise the module search patterns to speed up execution time
#  - Skip module sub-tools that we are not interested in
#  - Replace file-content searching with filename pattern searching
#  - Don't add anything that is the same as the MultiQC default
# See https://multiqc.info/docs/#optimise-file-search-patterns for details
sp:
    cutadapt:
        fn: '*trimming_report.txt'

    samtools/stats:
        fn: '*.stats'
    samtools/flagstat:
        fn: '*.flagstat'
    samtools/idxstats:
        fn: '*.idxstats*'

    picard/markdups:
        fn: '*.MarkDuplicates.metrics.txt'
    picard/alignment_metrics:
        skip: true
    picard/basedistributionbycycle:
        skip: true
    picard/gcbias:
        skip: true
    picard/hsmetrics:
        skip: true
    picard/insertsize:
        skip: true
    picard/oxogmetrics:
        skip: true
    picard/pcr_metrics:
        skip: true
    picard/quality_by_cycle:
        skip: true
    picard/quality_score_distribution:
        skip: true
    picard/quality_yield_metrics:
        skip: true
    picard/rnaseqmetrics:
        skip: true
    picard/rrbs_metrics:
        skip: true
    picard/sam_file_validation:
        skip: true
    picard/variant_calling_metrics:
        skip: true
    picard/wgs_metrics:
        skip: true